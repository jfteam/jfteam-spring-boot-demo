package com.jfteam.service.impl;import com.jfteam.dao.DemoDao;import com.jfteam.framework.datasource.DataSourceContextHolder;import com.jfteam.framework.datasource.DataSourceType;import com.jfteam.framework.page.PageBean;import com.jfteam.framework.page.PageParam;import com.jfteam.service.DemoService;import com.jfteam.vo.DemoVO;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;/** * Created with IntelliJ IDEA. * Description: * User: fengwenping * Date: 2017-10-29 * Time: 下午7:49 */@Servicepublic class DemoServiceImpl implements DemoService {    private static final Logger LOGGER = LoggerFactory.getLogger(DemoServiceImpl.class);    @Autowired    private DemoDao demoDao;    @Override    public PageBean<DemoVO> queryPageDemo(DemoVO demoVO, PageParam pageParam) {        LOGGER.info("当前数据源名称为: {}", DataSourceContextHolder.getDataSourceType());        DataSourceContextHolder.setDataSourceType(DataSourceType.DATASOURCE_SLAVE);        PageBean<DemoVO> pageByEntity = demoDao.findPageByEntity(demoVO, pageParam);        LOGGER.info("当前数据源名称为: {}", DataSourceContextHolder.getDataSourceType());        return pageByEntity;    }}