package com.jfteam.config;import com.jfteam.framework.datasource.DynamicDataSource;import org.apache.ibatis.session.SqlSessionFactory;import org.mybatis.spring.SqlSessionFactoryBean;import org.mybatis.spring.annotation.MapperScan;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.core.env.Environment;import org.springframework.core.io.support.PathMatchingResourcePatternResolver;/** * Created with IntelliJ IDEA. * Description: * User: fengwenping * Date: 2017-10-29 * Time: 下午7:13 */@Configuration@MapperScan(basePackages = {"com.jfteam.dao"}, sqlSessionFactoryRef = "mySqlSessionFactory")public class MybatisConfiguration {    @Bean    public SqlSessionFactory mySqlSessionFactory(@Qualifier("dynamicDataSource") DynamicDataSource dynamicDataSource) throws Exception {        SqlSessionFactoryBean sessionFactoryBean = new SqlSessionFactoryBean();        sessionFactoryBean.setDataSource(dynamicDataSource);        return sessionFactoryBean.getObject();    }}