package com.jfteam.controller;import com.jfteam.framework.datasource.DataSourceContextHolder;import com.jfteam.framework.page.PageBean;import com.jfteam.framework.page.PageParam;import com.jfteam.service.DemoService;import com.jfteam.vo.DemoVO;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.util.StringUtils;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestHeader;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;/** * Created with IntelliJ IDEA. * Description: * User: fengwenping * Date: 2017-10-29 * Time: 下午7:05 */@RestController@RequestMapping("demos")public class DemoController {    @Autowired    private DemoService demoService;    @GetMapping    public PageBean<DemoVO> queryPageDemo(@RequestHeader(name = "dataSourceType", required = false) String dataSourceType,                                          DemoVO demoVO,                                          PageParam pageParam) {        if (StringUtils.hasText(dataSourceType)) {            DataSourceContextHolder.setDataSourceType(dataSourceType);        }        PageBean<DemoVO> pageBean = demoService.queryPageDemo(demoVO, pageParam);        DataSourceContextHolder.clearDataSourceType();        return pageBean;    }}